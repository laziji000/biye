{"ast":null,"code":"import { icons } from \"@/libs/icon\";\nexport default {\n  name: \"iconChoose\",\n  props: {\n    value: {\n      type: String,\n      default: \"\"\n    },\n    size: String,\n    placeholder: {\n      type: String,\n      default: \"输入图标名或选择图标\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    readonly: {\n      type: Boolean,\n      default: false\n    },\n    maxlength: Number,\n    icon: {\n      type: String,\n      default: \"md-ionic\"\n    }\n  },\n  data() {\n    return {\n      iconModalVisible: false,\n      currentValue: this.value,\n      iconData: [],\n      key: \"\",\n      tip: \"输入英文关键词搜索，比如 success\"\n    };\n  },\n  methods: {\n    init() {\n      let re = [];\n      icons.forEach(e => {\n        e.icons.forEach(item => {\n          re.push(item);\n        });\n      });\n      this.iconData = re;\n    },\n    handleInput() {\n      if (this.key) {\n        // 搜索\n        let re = [];\n        icons.forEach(e => {\n          e.tags.forEach(item => {\n            if (item.indexOf(this.key) >= 0) {\n              e.icons.forEach(r => {\n                re.push(r);\n              });\n            }\n          });\n        });\n        this.iconData = re;\n      } else {\n        this.init();\n      }\n    },\n    handleFocus() {\n      if (!this.key) {\n        this.tip = \"\";\n      }\n    },\n    handleBlur() {\n      if (!this.key) {\n        this.tip = \"输入英文关键词搜索，比如 success\";\n      }\n    },\n    handleChange(v) {\n      this.$emit(\"input\", this.currentValue);\n      this.$emit(\"on-change\", this.currentValue);\n    },\n    setCurrentValue(value) {\n      if (value === this.currentValue) {\n        return;\n      }\n      this.currentValue = value;\n    },\n    hanleChoose(v) {\n      this.currentValue = v;\n      this.$emit(\"input\", this.currentValue);\n      this.$emit(\"on-change\", this.currentValue);\n      this.iconModalVisible = false;\n    }\n  },\n  watch: {\n    value(val) {\n      this.setCurrentValue(val);\n    }\n  },\n  mounted() {\n    this.init();\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}