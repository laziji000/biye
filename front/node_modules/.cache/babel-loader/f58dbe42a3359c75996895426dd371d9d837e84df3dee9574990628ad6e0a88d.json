{"ast":null,"code":"import { editEmploymentStatus, getMyOne } from \"./api.js\";\nimport uploadPicInput from \"@/views/template/upload-pic-input\";\nexport default {\n  name: \"edit\",\n  components: {\n    uploadPicInput\n  },\n  props: {\n    data: Object\n  },\n  data() {\n    return {\n      submitLoading: false,\n      // 表单提交状态\n      form: {\n        // 添加或编辑表单对象初始化数据\n        userId: \"\",\n        userName: \"\",\n        userNumber: \"\",\n        userMobile: \"\",\n        status: \"\",\n        date: \"\",\n        mobile: \"\",\n        noReason: \"\",\n        company: \"\",\n        threeImage: \"\",\n        license: \"\",\n        legal: \"\",\n        county: [],\n        address: \"\",\n        universityTitle: \"\",\n        universityLevel: \"\",\n        grade: 0,\n        troopsTitle: \"\",\n        civilTitle: \"\",\n        remark: \"\"\n      },\n      // 表单验证规则\n      formValidate: {},\n      myObj: {},\n      tempDate: \"\"\n    };\n  },\n  methods: {\n    init() {\n      this.handleReset();\n      this.getMyOneFx();\n    },\n    changeDate(e) {\n      this.form.date = e;\n    },\n    getMyOneFx() {\n      var that = this;\n      getMyOne().then(res => {\n        console.log(res);\n        if (res.success) {\n          that.form = res.result;\n          that.form.status = res.result.status + \"\";\n          that.tempDate = res.result.date;\n          var array = res.result.county.split(\",\");\n          that.form.county = array;\n        }\n      });\n    },\n    handleReset() {\n      this.$refs.form.resetFields();\n    },\n    handleSubmit() {\n      delete this.form.updateTime;\n      editEmploymentStatus(this.form).then(res => {\n        this.submitLoading = false;\n        if (res.success) {\n          this.$Message.success(\"操作成功\");\n        }\n      });\n    },\n    close() {\n      this.$emit(\"close\", true);\n    },\n    submited() {\n      this.$emit(\"submited\", true);\n    }\n  },\n  mounted() {\n    this.init();\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}